<?xml version="1.0" encoding="utf-8" ?>
<Defs>

	<FactionDef ParentName="FactionBase">
		<defName>BMT_GelGuardFaction</defName>
		<label>gelatinous guardians</label>
		<description>These horrific gelatinous-like dinosaurs are the result of an attempt to turn otherwise normal animals into those created purely for combat. While they created to be loyal to ancient masters, their bizarre means of reforming upon "death" has nullified any once implanted control means.</description>
		<pawnSingular>gelatinous guard</pawnSingular>
		<pawnsPlural>gelatinous guards</pawnsPlural>
		<requiredCountAtGameStart>1</requiredCountAtGameStart>
		<fixedName>Gelatinous Guardians</fixedName>
		<factionIconPath>BMT_Prehistoric/Item/Egg/GelatinousRaptorEgg/GelatinousRaptorEggA</factionIconPath>
		<colorSpectrum>
			<li>(200, 148, 146)</li>
		</colorSpectrum>
		<raidCommonalityFromPointsCurve>
			<points>
				<li>(0, 0)</li>
			</points>
		</raidCommonalityFromPointsCurve>
		<humanlikeFaction>false</humanlikeFaction>
		<hidden>true</hidden>
		<rescueesCanJoin>false</rescueesCanJoin>
		<autoFlee>false</autoFlee>
		<canUseAvoidGrid>false</canUseAvoidGrid>
		<techLevel>Animal</techLevel>
		<permanentEnemy>true</permanentEnemy>
		<settlementTexturePath>World/WorldObjects/DefaultSettlement</settlementTexturePath>
		<allowedArrivalTemperatureRange>-10~60</allowedArrivalTemperatureRange>
		<maxConfigurableAtWorldCreation>1</maxConfigurableAtWorldCreation>
		<configurationListOrderPriority>90</configurationListOrderPriority>
	</FactionDef>

	<ThingCategoryDef>
		<defName>BMT_CorpsesGel</defName>
		<label>gelatinous corpses</label>
		<parent>CorpsesAnimal</parent>
	</ThingCategoryDef>

	<RecipeDef>
		<defName>BMT_BurnGelatinousCorpses</defName>
		<label>burn gelatinous corpses</label>
		<description>Burn unwanted gelatinous corpses.</description>
		<jobString>Burning gelatinous corpses.</jobString>
		<workAmount>60</workAmount>
		<workSpeedStat>GeneralLaborSpeed</workSpeedStat>
		<requiredGiverWorkType>Hauling</requiredGiverWorkType>
		<effectWorking>Cremate</effectWorking>
		<soundWorking>Recipe_Cremate</soundWorking>
		<ingredients>
			<li>
				<filter>
					<categories>
						<li>BMT_CorpsesGel</li>
					</categories>
				</filter>
				<count>1</count>
			</li>
		</ingredients>
		<fixedIngredientFilter>
			<categories>
				<li>BMT_CorpsesGel</li>
			</categories>
		</fixedIngredientFilter>
		<defaultIngredientFilter>
			<categories>
				<li>BMT_CorpsesGel</li>
			</categories>
		</defaultIngredientFilter>
		<recipeUsers Inherit="false">
			<li>Campfire</li>
			<li>ElectricCrematorium</li>
		</recipeUsers>
	</RecipeDef>

	<ThingDef ParentName="BaseFilth">
		<defName>Filth_GelatinousSlime</defName>
		<label>slime</label>
		<statBases>
			<Beauty>-25</Beauty>
			<Cleanliness>-5</Cleanliness>
		</statBases>
		<graphicData>
			<texPath>Things/Filth/Spatter</texPath>
			<color>(200, 148, 146, 70)</color>
		</graphicData>
		<filth>
			<disappearsInDays>0.5~1</disappearsInDays>
			<rainWashes>true</rainWashes>
			<cleaningWorkToReduceThickness>70</cleaningWorkToReduceThickness>
			<canFilthAttach>true</canFilthAttach>
			<cleaningSound>Interact_CleanFilth_Fluid</cleaningSound>
		</filth>
		<pathCost>-30</pathCost>
	</ThingDef>
	
    <ThingDef Abstract="True" Name="BMT_GelatinousEggBase" ParentName="BuildingNaturalBase">
        <label>gelatinous egg</label>
        <description>A fertilized gelatinous egg. If all goes well, it should hatch into a gelatinous guardian.</description>
        <thingClass>ThingWithComps</thingClass>
        <graphicData>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>1</drawSize>
        </graphicData>
        <altitudeLayer>Building</altitudeLayer>
        <rotatable>false</rotatable>
        <fillPercent>0.5</fillPercent>
        <statBases>
            <MaxHitPoints>100</MaxHitPoints>
            <Flammability>0</Flammability>
        </statBases>
        <pathCost>42</pathCost>
        <blockWind>true</blockWind>
        <tickerType>Normal</tickerType>
        <passability>PassThroughOnly</passability>
        <receivesSignals>true</receivesSignals>
        <building>
            <isInsectCocoon>true</isInsectCocoon>
        </building>
        <comps>
            <li Class="CompProperties_CanBeDormant">
                <startsDormant>true</startsDormant>
                <wakeUpDelayRange>162</wakeUpDelayRange>
                <wakeUpEffect>CocoonWakingUp</wakeUpEffect>
                <maxDistAwakenByOther>3</maxDistAwakenByOther>
                <wakeUpRepeatSignalDelayRange>30~60</wakeUpRepeatSignalDelayRange>
                <delayedWakeUpDoesZs>false</delayedWakeUpDoesZs>
                <showSleepingZs>false</showSleepingZs>
                <wakeUpDelayStateLabelKey>DormantCompOpening</wakeUpDelayStateLabelKey>
            </li>
            <li Class="CompProperties_WakeUpDormant">
                <wakeUpIfAnyTargetClose>true</wakeUpIfAnyTargetClose>
                <wakeUpCheckRadius>4.9</wakeUpCheckRadius>
                <wakeUpOnThingConstructedRadius>4.9</wakeUpOnThingConstructedRadius>
                <wakeUpTargetingParams>
                    <canTargetBuildings>false</canTargetBuildings>
                    <canTargetAnimals>false</canTargetAnimals>
                    <canTargetMechs>false</canTargetMechs>
                    <canTargetHumans>true</canTargetHumans>
                </wakeUpTargetingParams>
                <wakeUpWithDelay>true</wakeUpWithDelay>
                <radiusCheckInspectPaneKey>TriggerRadius</radiusCheckInspectPaneKey>
                <activateMessageKey>MessageCocoonDisturbed</activateMessageKey>
                <activatePluralMessageKey>MessageCocoonDisturbedPlural</activatePluralMessageKey>
            </li>
            <li Class="CompProperties_SelfhealHitpoints">
                <ticksPerHeal>6000</ticksPerHeal>
            </li>
            <li Class="CompProperties_SpawnerFilth">
                <filthDef>Filth_GelatinousSlime</filthDef>
                <spawnCountOnSpawn>10</spawnCountOnSpawn>
                <spawnMtbHours>4</spawnMtbHours>
                <spawnRadius>1</spawnRadius>
            </li>
            <li Class="CompProperties_SpawnEffecterOnDestroy">
                <effect>CocoonDestroyed</effect>
            </li>
        </comps>
        <placeWorkers>
          <li>PlaceWorker_CocoonTriggerRadius</li>
        </placeWorkers>
        <drawPlaceWorkersWhileSelected>true</drawPlaceWorkersWhileSelected>
    </ThingDef>
	
</Defs>